<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee</title>

    <!-- DataTables CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/employee.css">
</head>

<style>
    table {
        width: 100%;
        border-top: 1px solid #ccc;
        border-bottom: 1px solid #ccc !important;
    }

    th, tr {
        border-bottom: 1px solid #ccc !important;
    }

    /* Hide cards on large screens */
    @media (min-width: 768px) {
        .employee-card {
            display: none;
        }
    }
</style>

<body>
    <div class="container-fluid">
        <div class="row">
            <div class="container">
                <div class="row">
                    <!-- Sidebar -->
                    <div class="col-sm-12 col-xl-2 col-md-2 col-lg-2 col-sty" id="left">
                        <div id="sidebar">
                            <div id="sidebar-header" class="m-3 mb-5">
                                <img src="images/logo.png" alt="Sidebar Logo" style="width: 100%;">
                            </div>
                            <div id="sidebar-content">
                                <div class="list-group list-group-flush">
                                    <a href="dashboard.html"
                                        class="list-group-item list-group-item-action bg-purple"><img
                                            src="icon/Mask group-2.png" style="width: 25px;margin-top: -5px;"><span
                                            style="padding-left: 10px;color: white;">Dashboard</span></a>
                                    <a class="list-group-item list-group-item-action bg-purple dropdown-toggle" href="#"
                                        id="ticketMenu" data-bs-toggle="collapse" data-bs-target="#ticketSubmenu"
                                        aria-expanded="false" aria-controls="ticketSubmenu">
                                        <img src="icon/Mask group-3.png" style="width: 25px;margin-top: -5px;">
                                        <span style="padding-left: 10px;color: white;">Ticket</span>
                                    </a>

                                    <div id="ticketSubmenu" class="collapse">
                                        <ul class="list-group list-group-flush" id="list-group-flush">
                                            <li class="list-group-item"><a href="Unassigned.html">Unassigned
                                                    Ticket</a></li>
                                            <li class="list-group-item"><a href="Inprocess.html" class=" bg-purple">In-Progress</a>
                                            </li>
                                            <li class="list-group-item"><a href="invoice.html" class=" bg-purple">Ready
                                                    for
                                                    Invoice</a></li>
                                            <li class="list-group-item"><a href="completed.html" class=" bg-purple">Completed
                                                    Ticket</a></li>
                                        </ul>
                                    </div>
                                    <a href="employee_ticket.html"
                                        class="list-group-item list-group-item-action bg-purple"><img
                                            src="icon/Mask group.png" style="width: 30px;margin-top: -5px;"><span
                                            style="padding-left: 10px;color: white;">Employees</span></a>
                                    <a href="home-profile.html"
                                        class="list-group-item list-group-item-action bg-purple"><img
                                            src="icon/Mask group-1.png" style="width: 30px;margin-top: -5px;"><span
                                            style="padding-left: 10px;color: white;">Profile</span></a>
                                    <div style="position: fixed; bottom: 0; display: inline-flex;" class="m-3">
                                        <img src="icon/Vector.png" id="icon">
                                        <span class="content text-white list-group-item">Logout</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Main Content -->
                    <div class="col-sm-12 col-xl-10 col-md-10 col-lg-10 col-sty" id="fix">
                        <p style="margin-left: -12px; padding: 20px; margin-right: -12px; font-weight: bold;">
                            Admin <span class="span">XYZ Company</span>
                        </p>

                        <div class="container">
                            <h1 class="text-center m-3 mt-5 fw-bold" style="color: #083a0a;">Employee</h1>
                            <div class="container" style="text-align: center;">
                                <div class="row">
                                    <div class="col-4">
                                        <input type="text" class="input-bottom-border" placeholder="Employee Id">
                                        <input type="text" class="mt-3 input-bottom-border" placeholder="Employee Id">
                                    </div>
                                    <div class="col-4">
                                        <input type="text" class="input-bottom-border" placeholder="Employee Id">
                                        <input type="text" class="mt-3 input-bottom-border" placeholder="Employee Id">
                                    </div>
                                    <div class="col-4">
                                        <button class="addEmployy mt-3" onclick="addButton()">Add Employee</button>
                                        <button class="mt-3 cancel" id="cancel" onclick="cancelButton()">Cancel</button>
                                    </div>
                                </div>
                            </div>

                            <!-- Card view for mobile -->
                            <div class="container mt-5 d-lg-none">
                                <h2 class="text-center">Employees</h2>
                                <div id="employeeCards" class="row">
                                    <!-- Employee cards will be inserted here -->
                                </div>
                            </div>

                            <!-- Table for larger screens -->
                            <div class="container-fluid mt-5 d-none d-lg-block">
                                <table class="table" id="ticketTable">
                                    <thead>
                                        <tr>
                                            <th></th>
                                            <th>Employee ID</th>
                                            <th>Employee Name</th>
                                            <th>Phone</th>
                                            <th>Specialization</th>
                                            <th>Email</th>
                                            <th>Assigned Locations</th>
                                            <th>Completed Work</th>
                                            <th>Pending Work</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

    <!-- DataTables JS -->
    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Employee DataTables Initialization -->
    <script>
        $(document).ready(function () {
            // Sample static data
            const employeeData = [
                {
                    id: "001",
                    name: "Rohith",
                    phone: "01234 56789",
                    specialization: "AC",
                    email: "rohith@gmail.com",
                    location: "Washington",
                    completedWork: 7,
                    pendingWork: 3
                },
                {
                    id: "002",
                    name: "Sham",
                    phone: "78654 65523",
                    specialization: "Refrigerator",
                    email: "sham@gmail.com",
                    location: "Sammamish",
                    completedWork: 4,
                    pendingWork: 2
                },
                {
                    id: "003",
                    name: "Maaz",
                    phone: "98098 76543",
                    specialization: "AC",
                    email: "maaz@gmail.com",
                    location: "Lynnwood",
                    completedWork: 4,
                    pendingWork: 2
                }
            ];

            // Initialize DataTables
            const table = $('#ticketTable').DataTable({
                paging: true,
                lengthChange: true,
                searching: true,
                ordering: true,
                info: true,
                autoWidth: false,
                responsive: true
            });

            // Insert data into the table dynamically
            employeeData.forEach((employee, index) => {
                let row = `
                    <tr>
                        <td class="details-control"></td>
                        <td>${employee.id}</td>
                        <td>${employee.name}</td>
                        <td>${employee.phone}</td>
                        <td>${employee.specialization}</td>
                        <td>${employee.email}</td>
                        <td>${employee.location}</td>
                        <td>${employee.completedWork}</td>
                        <td>${employee.pendingWork}</td>
                    </tr>
                `;
                table.row.add($(row)).draw(false);

                // Create a card for mobile view
                const card = `
                    <div class="col-12 col-sm-6 col-md-4 mb-3">
                        <div class="card">
                            <div class="card-body">
                                <div class="row">
                                    <p class="card-text text-center"><strong>ID:</strong> ${employee.id}</p>
            
                                    <div class="col-6">
                                         <p class="card-title text-center">${employee.name}</p>
                                    </div>
                                    <div class="col-6 pb-3">
                                        <p class="card-text"><strong>Phone:</strong> ${employee.phone}</p>                                        
                                    </div>
                                    <p class="card-text text-center"><strong>Specialization:</strong> ${employee.specialization}</p>
                                </div>
                                <div class="row pt-3">
                                <div class="col-6">
                                    <p class="card-text"><strong>Email:</strong> ${employee.email}</p>
                                    <p class="card-text"><strong>Location:</strong> ${employee.location}</p>
                                </div>
                                <div class="col-6">
                                    <p class="card-text"><strong>Completed Work:</strong> ${employee.completedWork}</p>
                                    <p class="card-text"><strong>Pending Work:</strong> ${employee.pendingWork}</p>
                                </div>
                                </div>
                                <button type="button" class="btn btn-primary modify">Modify</button>
                                <button type="button" class="btn btn-danger remove">Remove</button>
                            </div>
                        </div>
                    </div>
                `;
                $('#employeeCards').append(card);
            });

            // Add event listener for Modify button (added dynamically)
            $('#employeeCards').on('click', '.modify', function () {
                const card = $(this).closest('.card');
                alert(`Modify clicked for employee: ${card.find('.card-title').text()}`);
            });

            // Event listener for Remove button (added dynamically)
            $('#employeeCards').on('click', '.remove', function () {
                const card = $(this).closest('.card');
                if (confirm(`Are you sure you want to remove employee: ${card.find('.card-title').text()}?`)) {
                    card.parent().remove(); // Remove the card from the DOM
                }
            });

            // Add event listener for opening and closing details (in the table view)
            $('#ticketTable tbody').on('click', 'tr', function () {
                const target = $(this).data('bs-target');
                $(target).collapse('toggle');
            });
        });

        function addButton() {
            const elements = document.querySelectorAll(".input-bottom-border");
            const cancel = document.querySelector(".cancel");
            elements.forEach(element => {
                element.style.display = "inline"; // Show the input fields
                cancel.style.display = "inline"; 
            });
        }

        function cancelButton() {
            const elements = document.querySelectorAll(".input-bottom-border");
            const cancel = document.querySelector(".cancel");
            elements.forEach(element => {
                element.style.display = "none"; // Show the input fields
                cancel.style.display = "none"; 
            });
        }
    </script>
</body>

</html>
